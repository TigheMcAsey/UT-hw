\documentclass[10.5pt]{article}
\usepackage{amsmath, amsfonts, amssymb,amsthm}
\usepackage[includeheadfoot]{geometry} % For page dimensions
\usepackage{fancyhdr}
\usepackage{enumerate} % For custom lists
\usepackage{tikz-cd}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{fourier}

\lhead{MAT1190 Brief Notes}
\rhead{Tighe McAsey - 1008309420}
\pagestyle{fancy}

% Page dimensions
\geometry{a4paper, margin=1in}

\theoremstyle{definition}
\newtheorem{pb}{Problem}
\newtheorem{theorem}{Theorem}
\newtheorem{proposition}{Proposition}
\newtheorem{rmk}{Remark}
\newtheorem{exe}{exercise}
\newtheorem{definition}{definition}
\newtheorem*{example}{Example(s)}
\newtheorem*{warn}{Warning \warning}

% Commands:

\newcommand{\set}[1]{\{#1\}}
\newcommand{\abs}[1]{\lvert#1\rvert}
\newcommand{\norm}[1]{\lvert\lvert#1\rvert\rvert}
\newcommand{\tand}{\text{ and }}
\newcommand{\tor}{\text{ or }}
\newcommand{\spec}{\text{Spec}}
\newcommand{\colim}{\varinjlim}
\title{Concise AG Notes - UofT MAT1190}
\author{Tighe}


\begin{document}
\maketitle
    \section{Lecture Notes}
    \subsection{Lecture 1 (Sept 3, 2025)}
    \begin{theorem}\textbf{(Gelfond-Neymark)}
        A compact topological space is determined by its ring of smooth functions. In particular if the ring \(C(X) := C(X,\mathbb{R})\) and \(C(X) \cong C(Y)\), then \(X \cong Y\).
    \end{theorem}
    \begin{proposition} Each point in \(X\) corresponds to a maximal ideal of \(C(X)\), moreover if \(X\) is compact, then the correspondence is 1-1.
    \end{proposition}
    \begin{proof}
        the evaluation at a point gives a surjective homomorphism \(C(X) \to \mathbb{R}\), the image is a field, hence the kernel is a maximal ideal corresponding to the point.

        Now in the compact case, (assume \(X\) is Hausdorff?), then \(X\) is Hausdorff and compact hence normal. We can use Uhrysohn's lemma to get a function vanishing at \(x\) but not \(y\). Now suppose that for some maximal ideal \(\mathfrak{m} \subset C(X)\) for any point \(p \in X\) there is a continuous function with \(f(p) \neq 0\), then the set \(U_f = \set{x \in X \mid f(x) \neq 0}\) is open , and \(\bigcup_{f \in C(X)}U_f = X\), so we get a finite subcover. Take a linear combination of the functions in this subcover to complete the proof.
    \end{proof}
    \begin{definition}
        The Zariski Topology on \(\spec_{\max}(R)\) is the coarsest topology such that when \(\mathfrak{m} \leftrightarrow x\) \(f: \mathfrak{m} \to f(x)\) is continuous, where the topology on \(\mathbb{R}\) is taken as the cofinite topology. The closed sets in this topology are the vanishing loci of \(f \in C(X)\).
    \end{definition}
    \begin{itemize}
        \item Exercise \ref{HS1.4}, complete Hartshorne exercise 1.4
    \end{itemize}

    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    \subsection{Lecture 2 (Sept 5, 2025)}
    \begin{definition}
        For \(T \subset R_n := k[x_1,\hdots,x_n]\) and \(S \subset k^n\) we define \[V(T) = \set{x \in k^n \mid f(x) = 0, \forall f \in T} \tand I(S) = \set{f \in R_n \mid f(x) = 0, \forall x \in S}\]
    \end{definition}
    \begin{proposition}
        Suppose \(k\) is an uncountable field, and \(L/k\) is an extension with \([L:k] \leq \#\mathbb{N}\), then \(L = k\).
    \end{proposition}
    \begin{proof}
        Suppose not, then let \(x \in L\setminus k\), we find that \(\set{\frac{1}{x-\lambda} \mid \lambda \in k}\) is uncountable, so that there must be an algebraic relation. Thus there exist \(\mu_i \in k\) with \(\sum_1^n \frac{\mu_i}{x - \lambda_i} = 0\), so that \(\sum_1^n \mu_j \prod_{i \neq j}(x - \lambda_i) = 0\), but then \(x\) is algebraic over \(k\), hence \(x \in k\), contradiction.
    \end{proof}
    \begin{theorem}\textbf{(Nullstellensatz - weak form)}
        \(V(T) = \emptyset \implies (T) = R_n\)
    \end{theorem}
    \begin{proof}
        We assume here that \(k\) is uncountable (this is unnecessary- use Noether Normalization). Since \(J := (T) \subset R_n\) is an ideal it is contained in a maximal ideal \(\mathfrak{m}\). Then \(R_n/\mathfrak{m}\) is a field extension of \(k\) with countable dimension, by the previous proposition it is equal to \(k\). It follows that each \(x_i \mapsto a_i \in k\) when taking the quotient \(R_n \to R_n/\mathfrak{m} = k\), it follows that \(I\) vanishes on \((a_1,\hdots,a_n)\), so \(I\) cannot be contained in a maximal ideal.
    \end{proof}
    \begin{theorem}\textbf{(Nullstellensatz)}
        \[IV(J) = \sqrt{J}\]
    \end{theorem}
    \begin{proof}
        By Hilbert's basis theorem, we reduce to the finitely generated case. Let \(f \in IV(\set{f_1,\hdots,f_r})\), then \((1-tf,f_1,\hdots,f_r) \subset R_n[t]\) has no common zero. Then \(g_0(1-tf) + g_1f_1 + \cdots + g_rf_r = 1\), and let \(N = \max_i\set{\deg_tg_i}\). Taking \(t = f^{-1}\), we get \(\sum_1^r g_if_i = 1\), so that for \(h_i = f^Ng_i \in R_n\) we get \(\sum_1^r h_if_i = f^N \in I \implies f \in \sqrt{I}\).
    \end{proof}
    
    The Nullstellensatz gives a bijection
    \begin{align*}
        \set{\text{Affine algebraic varieties}} &\longleftrightarrow \set{\text{Finitely generated reduced k-algebras}} \\
        V(\sqrt{J}) &\longleftrightarrow R_n/\sqrt{J}
    \end{align*}
    Moreover, this is a categorical equivalence
    \begin{align*}
        \text{Var}_k \cong \left(\text{Alg}_k^{\text{reduced}}\right)^{\text{op}}
    \end{align*}
    
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    \subsection{Lecture 3 (Sept 8, 2025)}

    \begin{definition}
        Let \(\pi: S \to X\) be a local homeomorphism, then \(S\) is called an \'etal\'e space, or a sheaf on \(X\).
    \end{definition}

    \begin{example}
        \begin{enumerate}
            \item \(\empty \to X\)
            \item \(1: X \to X\)
            \item \(I\) a set with the discrete topology and the projection \(X \times I \to X\)
            \item A covering space, more explicitly the mobious covering
            \begin{align*}
                S^1 &\to S^1 \\ z &\mapsto z^2
            \end{align*}
            \item \(U \subset X\) an open set, \(\iota: U \to X\)
            \item If \(x \in X\) is a closed point, then we can construct the space \(X \sqcup_{X \setminus \set{x}}X = X \times \set{1,2}/\sim\) where \((y,1) \sim (y,2)\) when \(y \neq x\). This comes with the codiagonal map \(\nabla: X \sqcup_{X \setminus \set{x}}X \to X\), where \(\nabla\vert_{X \times \set{i}} = 1_X, i \in \set{1,2}\).
            
            This is a generalization of the line with two origins.
            \item \(I \neq \emptyset\), then take \(\underset{X \setminus \set{x}}{\sqcup_I} X \overset{\nabla}{\longrightarrow} X\)
        \end{enumerate}
    \end{example}

    \begin{definition}
        If \(U \subset X\) is an open set, then a section on \(U\) is a continuous map \(s: U \to S\) such that the following commutes:
        \begin{equation*}
            \begin{tikzcd}
                &S \arrow[d,"{\pi}"] \\
                U \arrow[ru,"{s}"] \arrow[r,"{\iota}"] &X
            \end{tikzcd}
        \end{equation*}
        The set of sections is denoted \(S(U) \tor \Gamma(U,S)\). If \(U = X\), then \(s\) is called a global section with notation \(S(X)\) or \(\Gamma(S)\).
    \end{definition}

    \begin{example}\textbf{(Revisited)}
        \begin{enumerate}
            \item \begin{align*}
                S(U) = \begin{cases}
                    1_\emptyset & U = \emptyset \\
                    \emptyset & \text{else}
                \end{cases}
            \end{align*}
            \item \begin{align*}
                S(U) = \set{\iota_U}
            \end{align*}
            \item \begin{align*}
                S(U) = \hom_\text{set}(\pi_0(U),I)
            \end{align*}
            \item \begin{align*}
                S(U) = \set{f: U \to \mathbb{C} \mid f(z^2) = z}
            \end{align*}
            \item \begin{align*}
                S(U) = \begin{cases}
                    \set{\iota} & x \not \in U \\ \set{1,2} & x \in U
                \end{cases}
            \end{align*}
            \item \begin{align*}
                S(U) = \begin{cases}
                    \set{\iota} & x \not \in U \\ I & x \in U
                \end{cases}
            \end{align*}
            This particular example is called the ``sky-scraper sheaf''
        \end{enumerate}
    \end{example}

    \begin{proposition}\label{Holomorphic as sections}
            There is a \'etal\'e space \(\mathcal{H}\) over \(\mathbb{C}_\text{EUC}\) with sections corresponding to holomorphic functions on \(\mathbb{C}\).
    \end{proposition}
    \begin{proof}
        The construction of \(\mathcal{H}\) as a set is given, alongside its topology. Verifying the claim is exercise \ref{Holomorphic as sections exe}.
        
        \begin{align*}
            \mathcal{H} := \bigsqcup_{z_0 \in \mathbb{C}}\left\{\sum_1^\infty c_n(z-z_0)^n \mid \text{the series converges in some neighborhood of }z_0\right\}
        \end{align*}
        And define the topology on \(\mathcal{H}\) as the strongest topology such that for any open set \(U\), and holomorphic \(f: U \to \mathbb{C}\) we have the following map is continuous
        \begin{align*}
            \mathcal{H}f: U &\to \mathcal{H} \\
            z_0 &\mapsto \text{The Taylor expansion of }f \text{ at }z_0
        \end{align*}
    \end{proof}


    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


    \subsection{Lecture 4 (Sept 10, 2025)}

    \begin{definition}
        Let \(\pi:S \to X\) be \'etal\'e, then \(S_x := \pi^{-1}(x)\) is called the stalk of \(x\).
    \end{definition}

    \begin{example}
        \begin{enumerate}
            \item \(1: X \to X\), \(S_x = \set{x}\)
            \item \(X \times I \to X\), \(S_x \cong I\)
            \item \(\underset{X \setminus \set{x}}{\sqcup_I} X \overset{\nabla}{\longrightarrow} X\), then \(S_y \cong \begin{cases}
                I & y=x\\ \set{\overline{y}} & y\neq x
            \end{cases}\)
            \item \(\mathcal{H} \to \mathbb{C}\) \(\mathcal{H}_{z_0}\) is locally convergent power series at \(z_0\).
        \end{enumerate}
    \end{example}

    \begin{proposition}\label{existence and uniqueness of sections on stalks}
        If \(\pi:S \to X\) is \'etal\'e and \(y \in \pi^{-1}(x)\), then there is an open set \(U \supset \set{x}\) and a section \(s:U \to S\) with \(s(x) = y\). Moreover, given two sections \(s_i \in \Gamma(U_i,S)\) there is some \(V \subset U_1\cap U_2\) containing \(x\), such that \(s_1\vert_V = s_2\vert_V\).
    \end{proposition}
    \begin{proof}
        The proof is exercise \ref{Existence and uniqueness sections on stalks}.
    \end{proof}
    \begin{proposition}
        \begin{align*}
            \colim_{x \in U}\Gamma(U,S) \overset{s \mapsto s(x)}{\longrightarrow} S_x
        \end{align*}
        is a bijection.
    \end{proposition}
    \begin{proof}
        This is onto since every element of the stalk has a section mapping to it, and injective by uniqueness of such an element up to the equivalence relation in the colimit. This is essentially restating the previous proposition.
    \end{proof}
    \begin{proposition}\label{local homeo lemma}
        \(f:X \to Y\), \(g:Y \to Z\) continuous maps, then
        \begin{itemize}
            \item \(f \tand g\) being local homeomorphisms implies \(g \circ f\) is.
            \item \(g \tand f \circ g\) being local homeomorphisms implies \(f\) is.
        \end{itemize}
    \end{proposition}
    \begin{definition}
        \textbf{(The Category of Sheaves on X)} The objects are \'etal\'e spaces \(\pi:S \to X\), and the morphisms are \(\varphi: S_1 \to S_2\) continuous maps where the following commutes:
        \begin{equation*}
            \begin{tikzcd}
                S_1 \arrow[rd,"{\pi_1}"] \arrow[rr,"{\varphi}"] &&S_2 \arrow[ld,"{\pi_2}"] \\
                &X
            \end{tikzcd}
        \end{equation*}
        Note that \(\varphi\) continuous and the diagram commuting implies it is a local homeomorphism, and hence morphisms are actually sheaves on sheaves.
    \end{definition}
    \begin{proposition}\textbf{(Isomorphism Criterion)} \makeatletter\def\@currentlabel{Isomorphism Criterion}\makeatother \label{Isomorphism Criterion}
        A morphism \(\varphi \in \text{Sh}(X)\) is an isomorphism if and only if the induced map \((S_1)_x \to (S_2)_x\) is bijective for all \(x \in X\).
    \end{proposition}
    \begin{proof}
        One direction is easy since stalks get mapped to stalks, and an inverse map must be a bijection. In the converse direction, we know that it must be a local homeomorphism by proposition \ref{local homeo lemma}, hence since its invertible as a set function, its inverse is a local homeomorphism.
    \end{proof}
    \begin{proposition}\textbf{(Monomorphism Criterion)}
        A morphism \(\varphi \in \text{Sh}(X)\) is an monomorphism if and only if the induced map \((S_1)_x \to (S_2)_x\) is injective for all \(x \in X\).
    \end{proposition}
    \begin{proof}
        Once again, one direction is easy. For the other direction, if \(\varphi(x_1) = \varphi(x_2)\), then \(\pi_2 \varphi(x_1) = \pi_2 \varphi(x_2)\), so that \(\varphi(x_1) \tand \varphi(x_2)\) are in the same element of the stalk, by injectivity on stalks we are done.
    \end{proof}
    \begin{proposition}\textbf{(Isomorphism Criterion for Sections)}
        If \(\varphi: S_1 \to S_2\) is a morphism in \(\text{Sh}(X)\) such that for any open set the induced map \(\Gamma(U,S_1) \to \Gamma(U,S_2)\) is a bijection, then \(\varphi\) is an isomorphism. Moreover, the converse is true.
    \end{proposition}
    \begin{proof}
        The main thing to check here is that a bijection for all \(U\) gives a bijection on the colimits. Assuming this for now we get that as sets:
        \begin{align*}
            (S_1)_x \cong \colim_{x \in U} \Gamma(U,S_1) \cong \colim_{x \in U} \Gamma(U,S_2) \cong (S_2)_x
        \end{align*}
        So that applying the \ref{Isomorphism Criterion} we find that \(\varphi\) is an isomorphism. Now if \(\varphi\) is an isomorphism, then \(\varphi: \Gamma(U,S_1) \to \Gamma(U,S_2)\) via \(s_1 \mapsto \varphi s_1\), this has map inverse \(\varphi^{-1}\), so these sets are in bijective correspondence which suffices to prove the converse.
    \end{proof}
    
    Note that the same proof works for injections.

    \begin{warn}
        If \(\varphi: S_1 \to S_2\), \(\varphi \in \text{Sh}(X)\) is surjective this does not imply that the induced map on \(\Gamma(U,S)\) is in general surjective. A counter example is the Mobius covering of \(S^1\), i.e. \(X = S = S^1\) with \(\pi_S = \varphi: S \to X\) via \(z \mapsto z^2\) and \(\pi_X = 1_X\). Then \(\Gamma(X,S) = \emptyset\), since there is no globally continuous square root on \(S^1\). This implies that there is no surjection
        \begin{align*}
            \emptyset = \Gamma(X,S) \to \Gamma(X,X) = \set{1_X}
        \end{align*}
    \end{warn}
    The upshot is that local lifts do exist.

    \begin{proposition}\textbf{(Local Lifts)}
        Let \(S_1,S_2\) be \'etal\'e over \(X\), and \(\varphi: S_1 \to S_2\)a surjective morphism. Then given a section \(s \in S_2\), there is an open cover \(\bigcup_I U_i\) with sections \(t_i \in S_1(U_i)\) such that \(\varphi\circ t_i = s\vert_{U_i}\) for all \(i\).
    \end{proposition}
    \begin{proof}
        Since \(\varphi\) is surjective, it must also be surjective on stalks \(S_x \to S_x\). Then for any \(x\), we have some \((t_x,V_x)\) so that \(\varphi \circ t_x(x) = s(x)\), it follows by the existence part of proposition \ref{existence and uniqueness of sections on stalks} that we can choose a neighborhood \(x \in U_x \subset V_x\) so that \(vp: (t_x,U_x) \to (s,U)\).
    \end{proof}
    \begin{rmk}
        \textbf{(An abstract perspective on lifts)} Given the setup
        \begin{equation*}
            \begin{tikzcd}
                S_1 \arrow[rd,"{\pi_1}"] \arrow[rr,"{\varphi}"] &&S_2 \arrow[ld,"{\pi_2}"] \\
                &X
            \end{tikzcd}
        \end{equation*}
        and a global section \(s \in \Gamma(X,S_2)\), we get a sheaf from the fibered product \(s^{-1}S_1 := S_1 \times_{S_2}X\) (this of course means its points are \(\set{(t,x) \mid \varphi(t) = s(x)}\)). From this perspective, \(s\) having a lift to \(\Gamma(X,S_1)\) is equivalent to \(s^{-1}S_1\) having a global section.
    \end{rmk}

    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    \subsection{Lecture 5 (Sept 12, 2025)}

    \begin{definition}
        If \(f: X \to Y\) and \(g: Z \to Y\) are morphisms, then we define the fiber product by the universal property
        \begin{equation*}
            \begin{tikzcd}
                T
                \arrow[bend left]{drr}{\beta}
                \arrow[bend right,swap]{ddr}{\alpha}
                \arrow[dashed]{dr}{\exists !} & & \\
                & X \times_Y Z \arrow{r}{\pi_Z} \arrow{d}[swap]{\pi_X}
                & Z \arrow{d}{g} \\
                & X \arrow[swap]{r}{f}
                & Y
            \end{tikzcd}
        \end{equation*}
    \end{definition}
    \begin{example}
        \begin{equation*}
            \begin{tikzcd}
                X \times Z \arrow[r] \arrow[d] &Z \arrow[d] \\ X \arrow[r] & \set{\cdot}
            \end{tikzcd} \quad
            \begin{tikzcd}
                f^{-1}(y) \arrow[r] \arrow[d] &\set{y} \arrow[d] \\ X \arrow[r] & Y
            \end{tikzcd}
        \end{equation*}
        So that products and fibers are special cases.
    \end{example}
    \begin{definition}
        \textbf{(Pre-Image Sheaf)} Given a continuous map \(f: Y \to X\), there is a functor \(f^{-1}: \text{Sh}(X) \to \text{Sh}(Y)\) via \((\pi:S\to X) \mapsto (\pi_Y: S \times_X Y \to Y)\). This is given in the following diagram,
        \begin{equation*}
            \begin{tikzcd}
                S \times_X Y \arrow[r] \arrow[d,"\pi_Y"] &S \arrow[d,"\pi"] \\ Y \arrow[r,"f"] & X
            \end{tikzcd} 
        \end{equation*}
    \end{definition}
    \begin{proposition}
        In the pre-image sheaf diagram, \(\pi_Y\) is a local homeomorphism when \(\pi\) is.
    \end{proposition}
    \begin{proof}
        From the diagram, we know that the topology on the preimage sheaf must be the fiber product topology, which is the subspace topology on the product topology. By the definition of the product topology we know that \(\pi_Y\) is continuous and open. To see that its locally bijective choose a neighborhood \(U \in S\) such that \(\pi\vert_U\) is a bijection, then for any \(V \subset p_S^{-1}(U)\), we have \((s,y) \in V\) and \(\pi': (s,y) \mapsto y\) implies that \(f(y) = \pi(s) \in U\), so any such point must have \(S\) coordinate \(s\) by local bijectivity of \(\pi\), but the projection onto \(Y\) is bijective for a fixed \(s\).
    \end{proof}
    \begin{proposition}
        \(f^{-1}\) preserves stalks, in the sense that \((f^{-1}S)_y \cong S_{f(y)}\).
    \end{proposition}
    \begin{proof}
        It is easy to see when we write the definition of the sets, \((f^{-1}S)_y = \set{(s,y) \mid \pi(s) = f(y)}\) noting here that \(y,f(y)\) are fixed, and \(S_{f(y)} = \set{s \mid \pi(s) = f(y)}\), so it is essentially throwing out the fixed variable.
    \end{proof}
    We would like to construct the sheaf pushforward \(f_*\), given \(f: X\to Y\) satisfying the following diagram:
    \begin{equation*}
            \begin{tikzcd}
                S \arrow[r] \arrow[d,"\pi"] &f_*S \arrow[d,"\widehat{\pi}"] \\ X \arrow[r,"f"] & Y
            \end{tikzcd} 
    \end{equation*}
    But there is not a straightforward way to make sure \(f_*S\) is etale, for this we will define sheaves from a more general object presheaves, this has the benefit that a pushforward will be straightforward to define for presheaves.
    \begin{definition}
        \textbf{(Presheaves)} A presheaf \(\mathcal{F}\) is a contravariant functor from \(\text{Open}(X)\) (c.f. \ref{OpenX def}) to the category Set. Concretely, we can write for each open \(U \subset X\) some \(\mathcal{F}(U)\), and whenever \(V \subset U\) we get a map \(res^U_V: \mathcal{F}(U) \to \mathcal{F}(V)\) satisfying \(res_U^U = 1_U \tand res_W^V \circ res_V^U  = res_W^U\).
    \end{definition}
    \begin{definition}
        There is a functor \(\mathcal{I}: Sh(X) \to Pr(X)\) defined via \(\mathcal{I}: (\pi:S\to X) \to (U \mapsto \Gamma(U,S))\) and 
    \end{definition}
    \begin{equation*}
            \mathcal{I}: \begin{tikzcd}
                S_1 \arrow[rd,"{\pi_1}"] \arrow[rr,"{\varphi}"] &&S_2 \arrow[ld,"{\pi_2}"] \\
                &X
            \end{tikzcd} \longrightarrow \begin{tikzcd}
                (U \mapsto \Gamma(U,S_1))\arrow[d,"{s \mapsto f\circ s}"] \\
                (U \mapsto \Gamma(U,S_2))
            \end{tikzcd}
    \end{equation*}

    More surprisingly, there is a sheafification functor \(^+: \text{Pr}(X) \to \text{Sh}(X)\), such that \(^+\circ \mathcal{I} = 1_{\text{Sh}(X)}\). The next proposition provides a construction for the functor;

    \begin{proposition}
        \textbf{(Sheafification)} There exists a functor  \(^+: \text{Pr}(X) \to \text{Sh}(X)\), such that \(^+\circ \mathcal{I} = 1_{\text{Sh}(X)}\).
    \end{proposition}
    \begin{proof}
        Start by fixing a presheaf \(\mathcal{F} \in \text{Pr}(X)\), we start by constructing the sheaf as a set, then endow it with a topology, which will allow us to check that it is \'etal\'e. We first construct the stalks, 
        \[\mathcal{F}_x := \colim_{U \supset \set{x}} \mathcal{F}(U)\]
        Then we take (where \(\mathcal{F}_x \to \set{x}\))
        \[S := \bigsqcup_{x \in X}\mathcal{F}_x \to X\]
        We define the topology on \(S\) to be the final topology generated by \(\set{s: U \to S \mid s \in \mathcal{F}(U) \text{ for all }U \subset X}\), this topology has the universal property that for \(T\) an arbitrary topological space, \(f:X \to T\) is continuous if and only if \(f \circ s: U \to T\) is continuous for all \(U\), and \(s \in \Gamma(U,S)\). Now using this property it is an exercise \ref{check sheafification cts} to check \(\pi: S \to X\) is a local homeomorphism.
    \end{proof}
    \begin{proposition}
        If \(\pi:S\to X\) is \'etal\'e, then \(^+\circ\mathcal{I}(S) \cong S\)
    \end{proposition}
    \begin{proof}
        We get \(f:\bigsqcup_{x\in X}S_x \to S\) is clearly a bijection (here we are implicitly using the equivalence of colimits of sections and stalks of an \'etal\'e space in the definition of the left hand side), moreover \(f\circ s: U \to S\) is continuous for all sections \(s\), by definition of continuity of sections. Now by proposition \ref{local homeo lemma}, \(f\) is a local homeomorphism which is bijective on stalks, so by the \ref{Isomorphism Criterion} this is indeed a sheaf isomorphism.
    \end{proof}
    \begin{definition}\textbf{(Pushforward of Sheaves)}
        To define a pushforward of sheaves, we define a pushforward on presheaves, given \(f: X \to Y\) continuous we take \(f_*: \text{Pr}(X) \to \text{Pr}(Y)\) via \(\mathcal{F} \to \mathcal{F}f^{-1}\), note this works since if \(V \subset U\), then \(f^{-1}(V) \subset f^{-1}(U)\), so the resulting hom sets are preserved and restriction maps make sense, the pushforward is thus the resulting image of a sheaf, the next proposition ensures this makes sense.
    \end{definition}
    \begin{proposition}
        If \(f: X \to Y\) is continuous, then \(f_*: \text{Sh}(Y) \subset \text{Sh}(X)\).
    \end{proposition}
    \begin{proof}
        The proof requires the sheaf criterion and is thus exercise \ref{pushforward sheaf exe}.
    \end{proof}
    \subsection{Lecture 6 (September 15, 2025)}
    \begin{theorem}\textbf{(Sheaf Criterion)}
        \(X\) a space, and \(\mathcal{F}\) a presheaf, then \(\mathcal{F} \to \mathcal{F}^+\) is an isomorphism when for any \(U \subset X\) open, and \(U = \bigcup_I U_i\) we have for any collection of sections \(s_i \in \mathcal{F}(U_i)\) satisfying for any \(i,j \in I\), \(res^{U_i}_{U_{ij}}(s_i) = res^{U_j}_{U_{ij}}(s_j)\) implies that \(\exists ! s \in \mathcal{F}(U)\) such that \(s_i = res^U_{U_i}(S)\) for all \(i \in I\).

        Here the notation \(U_{ij} := U_i \cap U_j\).
    \end{theorem}
    \begin{rmk}
        An equivalent formulation of the above is that
        \begin{align*}
            \mathcal{F}(U) \to \prod_I \mathcal{F}(U_i) \substack{\overset{res^{U_i}_{U_{ij}}}{\longrightarrow} \\ \underset{res^{U_j}_{U_{ij}}}{\longrightarrow}} \prod_{I^2} \mathcal{F}(U_{ij})
        \end{align*}
        is an equalizer \ref{equalizer defn}
    \end{rmk}

    To prove the sheaf criterion, we need a lemma

    \begin{proposition}\textbf{(Sheaf Criterion Lemma)}
        Let \(\mathcal{F}\) be a presheaf satisfying the gluing condition (assumption of Sheaf Criterion), and \(s_1,s_2 \in \mathcal{F}(U)\) satisfying \((s_1)_x = (s_2)_x\) for all \(x \in X\), then \(s_1 = s_2\).
    \end{proposition}
    \begin{proof}
        Since let \(x \in U\), then by definition \((s_1)_x = (s_2)_x\) means there exists some \(x \in V_x \subset U\) such that \(s_1\vert_{V_x} = s_2\vert_{V_x}\), then by the gluing condition \(s_1 = s_2\).
    \end{proof}
    \begin{proof}\textbf{(Proof of Sheaf Criterion)}
        Continuous functions on a topological space satisfy the gluing condition, hence sections of \'etal\'e spaces satisfy the gluing condition, so all \'etal\'e spaces satisfy the gluing condition.

        Now assume that a presheaf \(\mathcal{F}\) satisfies the gluing conditions and let \(S \to X\) have presheaf of sections \(\mathcal{F}^+\), we want to show that the set of sections on both spaces is the same, and thus sheafification should be equivalent since this only depends on the data of sections, by the topology on the sheafification we know all of the sections on the presheaf are sections on the sheafification it remains to check the converse. So let \(s \in \Gamma(U,S)\), then \(s(x) \in S_x = \mathcal{F}_x\), so for each \(x\) we have some open \(U_x \supset \set{x}\), and a section \(s_x \in \Gamma(U,\mathcal{F})\) with \(s_x(x) = s(x)\) (the existence is guaranteed since stalks are just images of sections). Since \(\pi: S \to X\) is a local homeomorphism, we can shrink \(U_x\), so that \(\pi\) is bijective which ensures \(s_x = res_{U_x}s\), then we can apply the lemma to \(U_x \cap U_y\), where \(res_{U_{xy}}s_x = res_{U_{xy}}s = res_{U_{xy}}s_y\), so by the gluing condition we have some unique \(t \in \Gamma(U,\mathcal{F})\) such that \(res_{U_x}t = res_{U_x}s\) for all \(s\), but then \(s_x = t_x\) for all \(x \in U\) by construction of \(t\), and hence by the lemma we get \(s = t\).
    \end{proof}

    \subsection{Lecture 7 (September 17, 2025)}

    \begin{definition}
        Let \(X\) be a topological space, then a ring object in \(\text{Sh}(X)\) is called a sheaf of rings on \(X\). The pair \((X,R)\) is called a ringed space.
    \end{definition}

    \begin{example}
        \begin{enumerate}
            \item \(X = \set{\cdot}\), then \(\text{Sh}(X) \cong \text{Set}\), then a ring object is just a ring.
            \item \(C_X\) the sheaf of real valued continuous functions is a ring object for any topological space.
        \end{enumerate}
    \end{example}

    \begin{definition}
        \(R^\times\) is the fiber product (where \(m = \cdot\) is multiplication)
        \begin{equation*}
            \begin{tikzcd}
                R^\times \arrow[r] \arrow[d,""] &\set{1} \arrow[d,""] \\ R\times R \arrow[r,"m"] & R
            \end{tikzcd} 
        \end{equation*}
    \end{definition}
    
    \begin{proposition}
        \(\pi: R^{\times} \to R\) is an injection, i.e. \(R^{\times}\) is a subsheaf of \(R\).
    \end{proposition}
    \begin{proof}
        This follows from uniqueness of inverse \textcolor{red}{CHECK THAT WE ASSUME THE RING IS COMMUTATIVE (IN A NON COMMUTATIVE RING CAN HAVE MANY RIGHT INVERSES)}
    \end{proof}

    \begin{definition}
        Let \((X,R)\) be a ringed space, and \(U \subset X\) be open, then define \(U_f = f^{-1}R^\times = \set{x \in U \mid f(x) \in R_x^\times}\)
    \end{definition}
    \begin{proposition}
        \(U_f\) is open by construction
    \end{proposition}
    \begin{proof}
        We defined \(f\) locally using the stalk, i.e. \(f_x \in R_x^\times\) means that for some \(U \supset \set{x}\) we have \(f\) has a inverse \(g\) on \(U\), hence the invertibility \(f_y\) holds for any \(y \in U\).
    \end{proof}
    \begin{proposition}
        \(R^\times\) is a group object in \(\text{Sh}(X)\)
    \end{proposition}

    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    \section{Exercises}
    \begin{exe}\label{HS1.4}\textbf{(Hartshorne Exercise 1.4)}
        An algebraically closed field is infinite, moreover the zero sets of polynomials are either \(k\) or a finite subset of \(k\). Consider the closed set \(V(x-y) \subset \mathbb{A}^2\), then it is an infinite set so if \(\mathbb{A}^1\times \mathbb{A}^1 = \mathbb{A}^2\), then it must be of the form \(\mathbb{A}^1 \times F \cup E \times \mathbb{A}^1\), where \(E,F \subset \mathbb{A}^1\) are closed. But for a fixed \(x\) \tor \(y\) we have \(V(x-y)\) has cardinality \(1\) which makes this impossible. \qed
    \end{exe}
    \begin{exe}\label{Holomorphic as sections exe}
        \textbf{(Show that \(\mathcal{H}(U) = \mathbf{\set{f: U \to \mathbb{C} \mid f \text{ holomorphic}}}\))} where we define \(\mathcal{H}\) in proposition \ref{Holomorphic as sections}.

        We first check that it is a local homeomorphism, for \(z \in \mathbb{C}\) and \(U \supset z\), we can take a function \(f\) holomorphic on \(U\), then \(\mathcal{H}f\) has only one taylor expansion for \(f\) at each \(z_0\) and is continuous. Since there is only one Taylor expansion at each \(z_0\) the map \(\pi\) taking Taylor series centered at \(z_0\) to \(z_0\) is injective, \(\pi\) is continuous because for an open set \(V\) we have \(\pi^{-1}(V) = \bigsqcup_{z_0 \in V}\mathcal{H}f(z_0)\), which has open preimage under all of the \(\mathcal{H}f\). Since \(\mathcal{H}f\pi = 1_S, \pi \mathcal{H}f = 1_X\) we are done this step.

        Now \(\pi \circ \mathcal{H}f\vert_U = \iota_U\) and \(\mathcal{H}f\) continuous suffices to show that every holomorphic function is a section. Conversely, suppose \(g: X \to \mathcal{H}\) is not induced by a holomorphic function. The first case is \(g\) maps some \(z_1\) to a taylor expansion around \(z_0 \neq z_1\), this cannot be a section since then the diagram won't commute. In the second case, there are distinct points \(\set{z_\alpha}_{\alpha\in I}\) in the same connected component of \(U\) each Taylor series \(g(z_\alpha)\) determining a different holomorphic function (near that point) \(f_\alpha\), denote the set of points that determines \(f_\alpha\) as \(V_\alpha\), it is immediate that the \(V_\alpha\) are disjoint. We know that \(\mathcal{H} f_\alpha(U)\) is open in \(\mathcal{H}\) for each \(\alpha\) (\ref{check Holomorphic as sections exe}), but if \(g^{-1}(\mathcal{H} f_\alpha(U)) = V_\alpha\) is open for each \(\alpha \in I\), then \(U = \bigsqcup V_\alpha\) is not connected, violating our earlier assumption. Hence for some open \(\mathcal{H} f_\alpha(U)\) we have that \(g^{-1}(\mathcal{H} f_\alpha(U))\) is not open and \(g\) is not continuous. \qed

        \makeatletter\def\@currentlabel{Check!}\makeatother \label{check Holomorphic as sections exe}Check: If two holomorphic functions have the same Taylor series at a point they are equal so \[\mathcal{H}\phi^{-1} (\mathcal{H}f_\alpha(U)) = \begin{cases}
        U \tor \text{the domain of definition for }f &\phi = f_\alpha \\
        \emptyset &\text{else}
        \end{cases}\]
        In either case the preimage is an open set.
    \end{exe}
    \begin{exe}\label{Existence and uniqueness sections on stalks}
        \textbf{(Show the existence and uniqueness of sections for each element in the stalk)}
        Existence is not too bad, since \(\pi\) is a local homeomorphism, hence we can choose some neighborhood \(y \in U\) with \(\pi\vert_U\) a homeomorphism. Then define \(s: \pi(U) \to U\) via \(x \mapsto \pi\vert_U^{-1}(x)\). Now assume that \(s_1,s_2\) are two such sections associated to open sets \(U_1,U_2\), then \(y \in \pi^{-1}(U_1) \cap \pi^{-1}(U_2)\), and hence some open set \(y \in \tilde{V} \subset \pi^{-1}(U_1) \cap \pi^{-1}(U_2)\) such that \(\pi\vert_{\tilde{V}}\) is a homeomorphism. Now let \(V = s_1^{-1}(\tilde{V}) \cap s_2^{-1}(\tilde{V})\) which is nonempty since it contains \(x\), and open. Since the inclusions are injective, we can say the same about sections, hence \(s_1,s_2:  V \to \tilde{V}\), and for \(z \in V\) we have \(\pi\vert_{\tilde{V}}s_i(z) = \iota(z) = z\) and hence \(s_i(z) = \pi\vert_{\tilde{V}}^{-1}(z)\). \qed
    \end{exe}
    \begin{exe}\label{check sheafification cts}\textbf{(Check that the sheafification is \'etal\'e)} It is straightforward that \(\pi\) is continuous, since \(\pi \circ s = \iota\) is the inclusion \(U \hookrightarrow X\).  
        
    \textcolor{red}{CHECK THAT THE MAP IS OPEN AND BIJECTIVE!!!}
    \end{exe}
    \begin{exe}\label{pushforward sheaf exe}\textbf{(Show that \(\mathbf{f_* \textbf{Sh}(X) \subset \textbf{Sh}(Y)}\))}
        Let \(\mathcal{F} \in \text{Sh}(X)\), then it satisfies the sheaf criterion, i.e. gluing condition, take \(U \subset Y\), and \(s_i \in \Gamma(U_i,f_*\mathcal{F})\), such that \(res_{U_{ij}}(s_i) = res_{U_{ij}}(s_j)\), then \(s_i = t_if^{-1}\) for \(t_i \in \Gamma(f^{-1}(U_i),\mathcal{F})\), so there is a unique \(t\), such that \(res_{f^{-1}(U_i)}t = t_i\) by the sheaf criterion, but then \(tf^{-1}\) satisfies \(res_{U_i}(tf^{-1}) = s_i\) for all \(i\), and if it were not unique, then the other \(s'\) with this property would be such that \(s' = t'f^{-1}\), but \(t'\) would contradict uniqueness of \(t\). \qed
    \end{exe}
    


    \appendix

    \section{Problem Sets}
    \subsection{Problem set 1.}
    \begin{pb}
        \textbf{(a)} For a topological space \(X\), define a sheaf \(\mathcal{C}_X\) of continuous real valued functions on \(X\).
        \begin{proof}
        Consider the set 
        \[\bigsqcup_{x \in X} \set{(f,U) \mid x \in U \text{ open and }f:U\to \mathbb{R} \text{ continuously}}/\sim\]
        Where \((f,U) \sim (g,U')\) when there is some \(x \in V \subset U \cap U'\) such that \(f\vert_V = g\vert_V\).
        With the final topology generated by the functions \(\mathcal{C}f: x \mapsto [f]_x\) (the germ of \(f\) at \(x\)), with the covering map \(\pi: [f]_x \mapsto x\). From the definition of the topology, we find that \(\pi\) is continuous with \(\pi^{-1}(x) = \bigcup_{(U,f)} [f]_x\). This is a local homeomorphism, since for any \([f]_x\) we can choose some \(U \supset \set{x}\) and \(\hat{f}\) on \(U\), such that \([\hat{f}]_x = [f]_x\), then take \(V = \bigcup_{x \in U}[\hat{f}]_x\), its clear that \(\pi\vert_V\) is bijective onto its image \(U\), to see that its open suppose that \(V' \subset V\) is open, then \(\mathcal{C}\hat{f}^{-1}(V') \subset U\) is open.
        \end{proof}
        \textbf{(b)} Show that for every open set \(U\), and every section \(s \in \Gamma(U,C_X)\) the subsets
        \begin{align*}
            U_s := \set{x \in X \mid s_x \in \mathcal{C}_{X,x}^\times} \tand U_{1-s} := \set{x \in X \mid 1 - s_x \in \mathcal{C}_{X,x}^\times}
        \end{align*}
        are open and cover all of \(X\).
        \begin{proof}
            The argument that they are open is identical, to see that \(U_s\) is open let \(x \in X\), such that \(s_x\) is a unit, then there is some neighborhood \(U \supset \set{x}\), such that \(s\vert_U \neq 0\), hence \(\frac{1}{s}\) is continuous on \(U\).

            Suppose that for some \(x\) we have \(1-s_x \not \in C_{X,x}^\times\), then for any open set \(U\) containing \(x\), there is some \(y \in U\), such that \(s(y) = 0\), this allows us to define a net \(y_\alpha \to x\) so that by continuity of \(s\) we have \(s(x) = 0\), then \((1-s_x)^{-1}(0,\infty)\) is an open set containing \(x\) where \(1-s_x\) is invertible thus proving \(U_s \cup U_{1-s}\) cover \(X\).
        \end{proof}
    \end{pb}
    \begin{pb}
        Suppose that \(X\) is compact, hausdorff and that \(R = C(X)\) is the ring of real valued continuous functions on \(X\).

        \textbf{(a)} Show that any maximal ideal is of the form \(\mathfrak{m}_x = \set{f \in R \mid f(x) = 0}\)
        \begin{proof}
            Firstly it is immediate that any ideal vanishing on more than one point cannot be maximal. So consider an ideal \(\mathfrak{m}\) such that for any \(x \in X\), there is some \(f \in \mathfrak{m}\) with \(f(x) \neq 0\), then for \(f \in \mathfrak{m}\) let \(U_f = \set{x \in X \mid f(x) = 1}\), it follows that \(\bigcup_{\mathfrak{m}}U_f = X\), so by compactness we get \(f_1,\hdots, f_n\) with \(\bigcup_1^n U_{f_i} = X\). It follows that \(f = \sum_1^n f_i^2 \in \mathfrak{m}\), and \(f(x) \geq 1\), so that \(\frac{1}{f} \in R \implies 1 \in \mathfrak{m}\).
        \end{proof}

        \textbf{(b)} Show that if \(x \neq y\) then \(\mathfrak{m}_x \neq \mathfrak{m}_y\)
        \begin{proof}
            Since \(X\) is compact and Hausdorff it is normal, hence Uhrysohn's separation lemma says there is some \(f \in \mathfrak{m}_x\) but not \(\mathfrak{m}_y\)
        \end{proof}
    \end{pb}
    \begin{pb}
        Suppose that \(X\) is compact and Hausdorff, and \(R = C(X)\) is the ring of continuous real valued functions.

        \textbf{(a)} Show that \(\text{Spec}_{\max} R\) is Hausdorff.
        \begin{proof}
            Let \(x,y \in X\), then since \(X\) is hausdorff, we have a closed set \(K\), containing an open neighborhood of \(y\) with \(x \not \in K\), so by Uhrysohn's lemma we have some \(f \in R\) with \(f\vert_K = 0\) and \(f(x) = 1\), then \(y \not \in \overline{\set{x \mid f(x) \neq 0}}\), so once again by Uhrysohn's lemma, we can define \(g\) such that \(g\vert_{\overline{\set{x \mid f(x) \neq 0}}} = 0\) and \(g(y) = 1\), follows that \(y \in U_f, x \in U_g\) and \(U_f \cap U_g = \emptyset\).
        \end{proof}
        \textbf{(b)} Infer now that the following is a homeomorphism.
        \begin{align*}
            X &\to \text{Spec}_{\max}(X) \\ x &\mapsto \mathfrak{m}_x
        \end{align*}
        \begin{proof}
            In problem 2, we showed the map is a bijection, moreover the preimage of open sets are generated by sets of the form \(f^{-1}\left((-\infty,0)\cup(0,\infty)\right)\) which are open, and finally if \(U\) is open, then for every point \(x \in U\) there is some \(f_x\) which vanishes on \(U^c\) such that \(f_x(x) = 1\), so that the image of \(U\) being \(\bigcup_{x\in U} U_{f_x}\) is open.
        \end{proof}
    \end{pb}
    \begin{pb}
        \textbf{(a)} Show that there is a categorical equivalence \(\text{Sh}\set{\cdot} \cong \text{Set}\)
        \begin{proof}
            Define the functor \(\mathcal{F}: {Sh}\set{\cdot} \to \text{Set}\) to be the forgetful functor. Then the functor \(\mathcal{G}: \text{Set} \to {Sh}\set{\cdot}\) is defined by taking \(S \mapsto (S \to \set{\cdot})\) equipped with the discrete topology, and taking \(f: S \to S'\) to the corresponding map of sheaves. For any sheaf over the one point set it is immediate that it is equipped with the discrete topology due to being a local homeomorphism, and hence \(\mathcal{G} \mathcal{F}\) recovers the \'etal\'e space. That \(\mathcal{G} \mathcal{F}\) is constant on maps is obvious, as well as the fact that \(\mathcal{F}\mathcal{G} = 1_{\text{Sh}\set{\cdot}}\).
        \end{proof}

        \textbf{(b)} Show that \(\text{Sh}(\emptyset)\) is equivalent to the singleton category.
        \begin{proof}
            The only sheaf over the emptyset is the emptyset with projection \(1_\emptyset\), furthermore this implies the only map of sheaves is \(1_\emptyset\). We can see the categories are equivalent.
        \end{proof}

        \textbf{(c)} Let \(X = \mathbb{N}_{\text{cof}}\), show that every \(S \in \text{Sh}(X)\) is isomorphic to a coproduct
        \begin{align*}
            S \cong \coprod_I S_i
        \end{align*}
        where each \(S_i\) is the sheaf given by including an open set \(U_i \hookrightarrow X\).
    \end{pb}
    
    \section{Assigned Readings}

    \section{Misc.}
    \begin{definition}
        A ring or algebra is called reduced when it has no non-zero nilpotents.
    \end{definition}
    \begin{definition}
        A map is a monomorphism when it has the left cancellation property \(fg_1 = fg_2 \implies g_1 = g_2\).
    \end{definition}
    \begin{definition}\label{OpenX def}
        The category \(\text{Open}(X)\) has objects the open subsets of \(X\), and morphisms given by inclusion \(\iota_U^V: U \to V\) when \(U \subset V\).
    \end{definition}
    \begin{definition}\label{equalizer defn}
        \begin{equation*}
            \begin{tikzcd}
                A \ar[r, "h"]
                &B \ar[r,shift left=.75ex,"f"]
                \ar[r,shift right=.75ex,swap,"g"]
                &C
            \end{tikzcd}
        \end{equation*}
        Where \(f \circ h = g\circ h\) is an equalizer when the following diagram is a pullback:
        \begin{equation*}
            \begin{tikzcd}
                A \arrow[r] \arrow[d,""] &B \arrow[d,"(f \times g)\circ \Delta"] \\ C \arrow[r,"\Delta"] & C^2
            \end{tikzcd} 
        \end{equation*}
    \end{definition}
    \begin{definition}
        A ring object in a category is an object \(R\) in the category with maps \(+,\cdot: R\times R \to R\) satisfying the ring axioms.

        For sheaves we take \(0,1: X \to R\) as sections.

        We can also think of \(R\) as a functor \(\text{Open}(X)^{\text{op}} \to \text{Rings}\)
    \end{definition}
\end{document}